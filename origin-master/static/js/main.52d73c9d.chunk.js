(this["webpackJsonpVAST-Tester"]=this["webpackJsonpVAST-Tester"]||[]).push([[0],{458:function(e,t,n){},468:function(e,t){},558:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,u,l,s,d,j,p,b,O,f=n(7),v=(n(270),n(280),n(1)),m=n.n(v),h=n(133),y=n(28),g=n(93),x=(n(456),n(457),n(566)),A=n(576),E=(n(458),n(61)),S=n(26),V=n(3),T=n(4),w=n(11),k=n(10),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}},N="SCHEDULE_AD_START",I="START_AD",_="REQUEST_AD_MUTED",C="REQUEST_AD_PAUSED",P="REQUEST_AD_FULLSCREEN",L="REQUEST_AD_SKIP",R="SET_AD_ACTIVE",F="SET_AD_PAUSED",M="SET_AD_MUTED",U="SET_AD_FULLSCREEN",B="AD_STOPPED",H=function(e){return D(M,{muted:e})},Q=function(e){return D(F,{paused:e})},W=function(){return D("AD_VOLUME_CHANGE")},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return D(B,null==e?null:{errorType:e,message:t})},G="SET_CONFIG",z=function(e){return D(G,e)},J="START_TEST",Y="END_TEST",q="VAST_TRACKER",K="VAST_WARNING",X="LOAD_VAST",Z="VAST_LOADED",ee="VAST_LOAD_FAILED",te="UNSUPPORTED_MEDIA_FILES",ne="SET_MEDIA_FILE",ae="VAST_EVENT",re=function(e,t,n){return D(ne,{url:e,apiFramework:t,adParameters:n})},ce=function(e){return D(ae,{type:e})},ie="VERIFICATION_READY",oe="VERIFICATION_SESSION_FINISHED",ue="VERIFICATION_EVENT",le="VERIFICATION_ERROR_EVENT",se=function(e){return D(ue,{type:e})},de="REQUEST_VIDEO_ELEMENT_UPDATE",je="SET_VIDEO_ELEMENT",pe="SET_VIDEO_SRC",be="SET_VIDEO_PAUSED",Oe="SET_VIDEO_MUTED",fe="SET_VIDEO_PROPERTIES",ve="VIDEO_PLAY_PROMISE",me="VIDEO_PLAY_NO_PROMISE",he="VIDEO_PLAY_PROMISE_FULFILLED",ye="VIDEO_PLAY_PROMISE_REJECTED",ge="VIDEO_EVENT",xe=function(e){return D(pe,{src:e})},Ae=function(e){return D(be,{paused:e})},Ee=function(e){return D(Oe,{muted:e})},Se=function(e){return D(fe,{properties:e})},Ve="REQUEST_VPAID_DOM_UPDATE",Te="SET_VPAID_DOM",we="VPAID_WARNING",ke="VPAID_ERROR",De="LOAD_VPAID",Ne="VPAID_HANDSHAKE_SUCCESSFUL",Ie="START_VPAID_AD",_e="VPAID_EVENT",Ce="SET_VPAID_PROPERTIES",Pe="CALL_VPAID_FUNCTION",Le="CALLING_VPAID_FUNCTION",Re="VPAID_LOADED",Fe="VPAID_LOAD_FAILED",Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return D(Pe,{name:e,args:t})},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return D(Le,{name:e,args:t})},Be=n(5),He=n(6),Qe=n(27),We=n(175),$e=n.n(We),Ge=window.location,ze=Ge.protocol,Je=Ge.host,Ye="VAST Tester",qe="5e5362b",Ke="master",Xe="Jun 23, 2021, 11:03 AM GMT",Ze="".concat(ze,"//").concat(Je),et="".concat(Ze,"/fixtures/vast/vast3.xml"),tt=5e3,nt={vastUrl:{type:"string",default:et},audioUnmuted:{type:"boolean",default:!1},startDelayed:{type:"boolean",default:!1},vpaidEnabled:{type:"boolean",default:!0},vpaidPropertiesAllowedBeforeAdLoaded:{type:"boolean",default:!0},omAccessMode:{type:"string",default:"full"}},at=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(Qe.a)(t,2),a=n[0],r=n[1];return function(e){return null==e||!1===e||""===e}(r)?e:Object(He.a)(Object(He.a)({},e),{},Object(Be.a)({},a,function(e){return null!=nt[e]&&"boolean"===nt[e].type}(a)?""+r==="true":""+r))}),{})},rt=function(e){return""===e?null:at($e.a.parse(e))},ct=function(e){return null==e?"":$e.a.stringify(at(e))},it=function(e){Object(w.a)(n,e);var t=Object(k.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){var e,t=this.props,n=t.location,a=t.config,r=t.onApplyConfig,c=rt(n.search.substr(1));null!=c&(e=c,!(ct(a)===ct(e)))&&r(c)}},{key:"render",value:function(){return null}}]),n}(m.a.Component),ot=Object(y.b)((function(e){return{config:e.config}}),(function(e){return{onApplyConfig:function(t){e(z(t))}}}))(it),ut=n(33),lt=n.n(ut),st=n(136),dt=n(252),jt=n.n(dt),pt=n(0),bt=0,Ot=m.a.memo((function(e){var t=e.label,n=e.tooltip,a=e.defaultValue,r=e.onChange,c="checkbox-"+ ++bt;return Object(pt.jsxs)("div",{className:"form-group form-group-checkbox",children:[Object(pt.jsx)("label",{htmlFor:c,title:n,children:t}),Object(pt.jsx)(jt.a,{id:c,icons:!1,defaultChecked:a,onChange:function(e){return r(e.target.checked)}})]})})),ft=Ot,vt=function(e){var t=e.legend,n=e.children,a=e.className;return Object(pt.jsxs)("fieldset",{className:a,children:[Object(pt.jsx)("legend",{children:t}),n]})},mt=m.a.memo((function(e){e.onActivateCopyLink,e.onActivateAbout;return Object(pt.jsxs)("header",{children:[Object(pt.jsxs)("h1",{children:[Object(pt.jsx)("span",{className:"before"}),Object(pt.jsx)("span",{className:"title",children:Ye})]}),Object(pt.jsx)("nav",{children:Object(pt.jsxs)("ul",{children:[Object(pt.jsx)("li",{children:Object(pt.jsx)(E.b,{to:"/share",title:"Share Link",children:Object(pt.jsx)(lt.a,{name:"share-alt"})})}),Object(pt.jsx)("li",{children:Object(pt.jsx)("a",{href:"https://github.com/InteractiveAdvertisingBureau/VAST-Tester",target:"_blank",rel:"noopener noreferrer",title:"Fork on GitHub",children:Object(pt.jsx)(lt.a,{name:"github-alt"})})}),Object(pt.jsx)("li",{children:Object(pt.jsx)(E.b,{to:"/about",title:"About",children:Object(pt.jsx)(lt.a,{name:"info"})})})]})})]})})),ht=mt,yt=m.a.memo((function(e){var t=e.label,n=e.tooltip,a=e.options,r=e.defaultValue,c=e.onChange;return Object(pt.jsxs)("div",{className:"form-group form-group-switch",children:[Object(pt.jsx)("label",{title:n,children:t}),Object(pt.jsx)("div",{className:"switch-options",children:Object(f.a)(Object.entries(a)).map((function(e,t){var n=Object(Qe.a)(e,2),a=n[0],i=n[1];return Object(pt.jsx)("div",{className:"switch-option"+(a===r?" active":""),onClick:function(){return c(a)},children:i},t)}))})]})})),gt=yt,xt=n(266),At=0,Et=m.a.memo((function(e){var t=e.label,n=e.defaultValue,a=e.onChange,r="text-input-"+ ++At;return Object(pt.jsxs)("div",{className:"form-group form-group-input",children:[null!=t?Object(pt.jsx)("label",{htmlFor:r,children:t}):null,Object(pt.jsx)(xt.a,{id:r,defaultValue:n,className:"expanding",minRows:1,maxRows:10,onChange:function(e){return a(e.target.value)}})]})})),St=Et,Vt=["loaded","start","impression","firstQuartile","midpoint","thirdQuartile","complete","error"],Tt=n(31),wt=function(e,t){var n,a={},r=Object(Tt.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;a[c]="function"===typeof t?t(c):t}}catch(i){r.e(i)}finally{r.f()}return a},kt=function(e){return e<1e3?e+" ms":1e3===e?"1 second":e/1e3+" seconds"},Dt=window,Nt=Dt.atob,It=Dt.btoa,_t=wt(["limited","creative","full"],st.a),Ct=/^data:[^,;]+;base64,(.*)/,Pt=function(e){var t=Ct.exec(e);if(null!=t)try{e=Nt(t[1])}catch(n){}return e},Lt=function(e){return"<"===e.trim().charAt(0)?"data:text/xml;base64,"+It(e):e},Rt=function(e){Object(w.a)(n,e);var t=Object(k.a)(n);function n(e){var a;Object(V.a)(this,n),a=t.call(this,e);var r=e.location,c=e.config,i=e.onResetConfig;return null!=c&&i(),a.state=rt(r.search.substr(1))||Object.entries(nt).reduce((function(e,t){var n=Object(Qe.a)(t,2),a=n[0],r=n[1].default;return Object(He.a)(Object(He.a)({},e),{},Object(Be.a)({},a,r))}),{}),a}return Object(T.a)(n,[{key:"render",value:function(){var e=this;return Object(pt.jsxs)("main",{className:"config",children:[Object(pt.jsx)(ht,{}),Object(pt.jsx)("div",{className:"contents",children:Object(pt.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e._runButton.click()},children:[Object(pt.jsx)(vt,{legend:"VAST (URL or XML)",children:Object(pt.jsx)(St,{defaultValue:Pt(this.state.vastUrl),onChange:this._onVastUrlChange.bind(this)})}),Object(pt.jsxs)(vt,{legend:"Video Player Behavior",children:[Object(pt.jsx)(ft,{label:"Enable audio by default",tooltip:"Allows the ad to play audio without user interaction",defaultValue:this.state.audioUnmuted,onChange:this._onChange("audioUnmuted")}),Object(pt.jsx)(ft,{label:"Simulate creative preloading",tooltip:"Delays the start of the ad by "+kt(tt)+" (useful to diagnose premature events)",defaultValue:this.state.startDelayed,onChange:this._onChange("startDelayed")})]}),Object(pt.jsxs)(vt,{legend:"VPAID Creative",children:[Object(pt.jsx)(ft,{label:"Allow VPAID media files",tooltip:"Prefers interactive media files over standard video if available",defaultValue:this.state.vpaidEnabled,onChange:this._onChange("vpaidEnabled")}),Object(pt.jsx)(ft,{label:"Get VPAID properties before AdLoaded",tooltip:"Aggressively requests metadata from VPAID units (incompatible with some ads)",defaultValue:this.state.vpaidPropertiesAllowedBeforeAdLoaded,onChange:this._onChange("vpaidPropertiesAllowedBeforeAdLoaded")})]}),Object(pt.jsx)(vt,{legend:"Open Measurement",children:Object(pt.jsx)(gt,{label:"Verification access mode",tooltip:"Determines access permissions for verification scripts",options:_t,defaultValue:this.state.omAccessMode,onChange:this._onChange("omAccessMode")})})]})}),Object(pt.jsx)("div",{className:"actions",children:Object(pt.jsx)("nav",{children:Object(pt.jsx)("ul",{children:Object(pt.jsx)("li",{children:Object(pt.jsxs)(E.b,{to:{pathname:"/run",search:ct(this.state)},innerRef:function(t){e._runButton=t},children:["Run Test ",Object(pt.jsx)(lt.a,{name:"arrow-right"})]})})})})})]})}},{key:"_onChange",value:function(e){var t=this;return function(n){t.setState(Object(He.a)(Object(He.a)({},t.state),{},Object(Be.a)({},e,n)))}}},{key:"_onVastUrlChange",value:function(e){this.setState(Object(He.a)(Object(He.a)({},this.state),{},{vastUrl:Lt(e)}))}}]),n}(m.a.Component),Ft=Object(y.b)((function(e){return{config:e.config}}),(function(e){return{onResetConfig:function(){e(z(null))}}}))(Rt),Mt=n(47),Ut=n(573),Bt=function(e){return function(t){return{name:t,desc:Object.getOwnPropertyDescriptor(e,t)}}},Ht=function(e){return null!=e.desc.get},Qt=function(e){return e.name},Wt=function(e,t,n){return wt(t,(function(t){var a,r;try{a=e[t],r=!0}catch(c){a=c,r=!1}return r?Gt(a,n):"[Error: ".concat(a,"]")}))},$t=[{test:function(e){return null==e},convert:function(){return null}},{test:function(e){return"object"!==typeof e},convert:function(e){return e}},{test:Array.isArray,convert:function(e,t){return e.map((function(e){return Gt(e,t)}))}},{test:function(e){return"string"===typeof e.nodeName},convert:function(e){return""+e}},{test:function(e){return e instanceof window.TimeRanges},convert:function(e){return{$type:"TimeRanges",data:Object(f.a)(Array(e.length).keys()).map((function(t){return{start:e.start(t),end:e.end(t)}}))}}},{test:function(e){return e instanceof window.TextTrackList},convert:(a="TextTrackList",function(e,t){return{$type:a,data:Array.prototype.map.call(e,(function(e){return Gt(e,t)}))}})},{test:function(e){return"SortedList"===e.$type},convert:function(e,t){return Gt(e.toArray(),t)}},{test:function(e){return null!=e.constructor&&e.constructor.prototype!==Object.prototype},convert:function(e,t){return Wt(e,function(e){for(var t=Object.create(null);null!=e&&e!==Object.prototype;){var n,a=Object.getOwnPropertyNames(e).filter((function(e){return"constructor"!==e})).map(Bt(e)).filter(Ht).map(Qt),r=Object(Tt.a)(a);try{for(r.s();!(n=r.n()).done;)t[n.value]=!0}catch(c){r.e(c)}finally{r.f()}e=Object.getPrototypeOf(e)}return Object.keys(t)}(e.constructor.prototype),t)}},{test:function(){return!0},convert:function(e,t){return Wt(e,Object.keys(e),t)}}],Gt=function(e,t){if(t.includes(e))return"[Circular]";t.push(e);var n=t.length-1,a=$t.reduce((function(e,n){var a=n.test,r=n.convert;return!e.ok&&a(e.value)?{ok:!0,value:r(e.value,t)}:e}),{ok:!1,value:e}).value;return t.splice(n,1),a},zt=function(e){return Gt(e,[])},Jt=function(e){return"string"===typeof e?e:JSON.stringify(zt(e),null,2)},Yt=m.a.memo((function(e){var t=e.data,n=e.sort,a=e.nowrap,r=e.serializer,c=Object.keys(t);n&&c.sort();var i=a?"kv-nowrap":"kv-wrap";return Object(pt.jsx)("dl",{className:"kv",children:c.map((function(e){var n=e.replace(/ /g," "),a=t[e],c=typeof a,o=null!=r?r(a):""+a,u="".concat(e,": ").concat(o);return Object(pt.jsxs)(m.a.Fragment,{children:[Object(pt.jsx)("dt",{className:"kv-".concat(n,"-key kv-type-").concat(c,"-key ").concat(i),title:u,"data-key":e,"data-value":o,children:Object(pt.jsx)("span",{children:e})}),Object(pt.jsx)("dd",{className:"kv-".concat(n,"-value kv-type-").concat(c,"-value ").concat(i),title:u,"data-key":e,"data-value":o,children:Object(pt.jsx)("span",{children:o})})]},e)}))})})),qt=Yt,Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{className:""},t=e.className,n=e.children;return Object(pt.jsx)("div",{className:"placeholder ".concat(t),children:n})},Xt={info:"info",warn:"exclamation-triangle",error:"times"},Zt=function(e){Object(w.a)(n,e);var t=Object(k.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){var e=this.props,t=e.timestamp,n=e.timeDelta,a=e.timeTotal,r=e.level,c=e.category,i=e.text,o=e.metadata,u="level-".concat(r," category-").concat(c.toLowerCase()),l=n>=0?"Elapsed: ".concat(kt(n)," since previous, ").concat(kt(a)," total"):null,s=null==o?i:Object(pt.jsxs)(pt.Fragment,{children:[i,Object(pt.jsx)("div",{className:"metadata",children:Object(pt.jsx)(qt,{data:o,serializer:Jt})})]});return Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsxs)("tr",{className:"".concat(u," first"),children:[Object(pt.jsx)("td",{className:"time",title:l,children:Object(Ut.a)(t,"HH:mm:ss.SSS")}),Object(pt.jsxs)("td",{className:"level",children:[Object(pt.jsx)("span",{className:"icon",children:Object(pt.jsx)(lt.a,{name:Xt[r]})}),Object(pt.jsx)("span",{className:"label",children:r})]}),Object(pt.jsx)("td",{className:"category",children:c}),Object(pt.jsx)("td",{className:"text",children:s})]}),Object(pt.jsxs)("tr",{className:"".concat(u," second"),children:[Object(pt.jsx)("td",{className:"category",children:c}),Object(pt.jsx)("td",{className:"text",colSpan:"3",children:s})]})]})}}]),n}(m.a.PureComponent),en=function(e){Object(w.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(V.a)(this,n),(a=t.call(this,e))._containerRef=m.a.createRef(),a}return Object(T.a)(n,[{key:"getSnapshotBeforeUpdate",value:function(e){if(e.events.length===this.props.events.length)return!1;var t=this._containerRef.current.parentNode;return t.scrollTop+t.clientHeight===t.scrollHeight}},{key:"componentDidUpdate",value:function(e,t,n){n&&this._containerRef.current.querySelector(".last").scrollIntoView()}},{key:"render",value:function(){var e=this.props.events;if(0===e.length)return Object(pt.jsx)(Kt,{children:"No log items to show"});var t=e[0].timestamp;return Object(pt.jsx)("div",{className:"log",ref:this._containerRef,children:Object(pt.jsx)("table",{children:Object(pt.jsxs)("tbody",{children:[e.map((function(n,a){var r=n.timestamp,c=n.level,i=n.category,o=n.text,u=n.metadata;return Object(pt.jsx)(Zt,{timestamp:r,timeDelta:a>0?r-e[a-1].timestamp:-1,timeTotal:r-t,level:c,category:i,text:o,metadata:u},a)})),Object(pt.jsx)("tr",{className:"last"})]})})})}}]),n}(m.a.PureComponent),tn=en,nn=Object(y.b)((function(e){return{events:e.log.events}}))(tn),an=n(253),rn=n.n(an),cn=function(e){return Object(pt.jsx)(rn.a,Object(He.a)(Object(He.a)({},e),{},{open:!0,transitionTime:100}))},on=n(254),un=n.n(on),ln=n(255),sn=ln.a,dn={extend:sn,tree:{marginTop:0,marginBottom:0}},jn=function(e,t){return"string"===typeof t?""===t?Object(pt.jsx)("span",{className:"empty",children:"(empty)"}):t:e},pn=function(e){return Object(pt.jsx)(un.a,Object(He.a)(Object(He.a)({},e),{},{theme:dn,valueRenderer:jn}))},bn=function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(null==t||"object"!==typeof t)return t;if(r.includes(t))return t;if(Array.isArray(t)){var c=t.map((function(t){return e(t,n,a,r)}));return r.push(c),c}var i=Object.keys(t).reduce((function(c,i){return Object(He.a)(Object(He.a)({},c),{},Object(Be.a)({},i===n?a:i,e(t[i],n,a,r)))}),{});return r.push(i),i},On=function(e,t){return e.substr(0,t.length)===t},fn=Symbol("type"),vn=function(e,t,n,a){return Object(pt.jsx)("span",{children:null!=t&&null!=t[fn]?t[fn]:"Array"===e?a:n})},mn=function(e){var t=e.vast;return Object(pt.jsx)("div",{className:"vast",children:Object(pt.jsx)(pn,{data:t,getItemString:vn})})},hn=m.a.memo((function(e){var t=e.eventCounts,n=e.chain,a=(e.mediaFileUrl,n[0].uri);return Object(pt.jsxs)("div",{className:"vast-details",children:[!On(a,"data:")&&Object(pt.jsx)(cn,{trigger:"VAST Tag",children:Object(pt.jsx)("div",{className:"vast-info",children:Object(pt.jsx)(qt,{data:{URL:a}})})}),Object(pt.jsx)(cn,{trigger:"VAST Events",children:Object(pt.jsx)("div",{className:"events",children:Object(pt.jsx)(qt,{data:t})})}),Object(pt.jsx)(cn,{trigger:"VAST Chain",children:Object(pt.jsx)("div",{className:"vast-chain",children:n.map((function(e,t){return Object(pt.jsx)(mn,{vast:e},t)}))})})]})})),yn=Object(y.b)((function(e){var t=e.vast,n=t.eventCounts,a=t.chain;t.mediaFile;return{eventCounts:n,chain:bn(a,"$type",fn)}}))(hn),gn=m.a.memo((function(e){var t=e.accessMode,n=e.scripts,a=e.eventCounts;return Object(pt.jsxs)("div",{className:"verification-details",children:[Object(pt.jsx)(cn,{trigger:"Open Measurement Events",children:Object(pt.jsx)("div",{className:"events",children:Object(pt.jsx)(qt,{data:a})})}),n.map((function(e,n){var a=e.uri,r=e.vendor,c=e.verificationParameters;return Object(pt.jsx)(cn,{trigger:"Open Measurement Script #".concat(n+1),children:Object(pt.jsx)("div",{className:"properties",children:Object(pt.jsx)(qt,{data:{Vendor:r,URL:a,Parameters:null!=c?c:"(none)","Access Mode":t}})})},n)}))]})})),xn=Object(y.b)((function(e){var t=e.verification;return{accessMode:t.accessMode,scripts:t.scripts,eventCounts:t.eventCounts}}))(gn),An={TimeRanges:function(e){return"TimeRanges["+(e.data.length>0?" "+e.data.map((function(e){return"("+e.start+", "+e.end+")"})).join(", ")+" ":"0")+"]"},TextTrackList:function(e){return"TextTrackList[".concat(e.data.length,"]")}},En=function(e){for(var t={},n=0,a=Object.keys(e);n<a.length;n++){var r=a[n],c=e[r];t[r]=null!=c&&null!=c.$type&&null!=An[c.$type]?An[c.$type](c):""+c}return t},Sn=m.a.memo((function(e){var t=e.eventCounts,n=e.properties;return Object(pt.jsxs)("div",{className:"video-details",children:[Object(pt.jsx)(cn,{trigger:"Video Events",children:Object(pt.jsx)("div",{className:"events",children:Object(pt.jsx)(qt,{data:t})})}),Object(pt.jsx)(cn,{trigger:"Video Element Properties",children:Object(pt.jsx)("div",{className:"properties",children:Object(pt.jsx)(qt,{data:En(n)})})})]})})),Vn=Object(y.b)((function(e){return e.video}))(Sn),Tn=m.a.memo((function(e){var t=e.status,n=e.url,a=e.adParameters,r=e.eventCounts,c=e.properties;return Object(pt.jsxs)("div",{className:"vpaid-details",children:[Object(pt.jsx)(cn,{trigger:"VPAID Creative",children:Object(pt.jsx)("div",{className:"vpaid-info",children:Object(pt.jsx)(qt,{data:{Status:t,URL:n,Parameters:null!=a?a:"(none)"}})})}),Object(pt.jsx)(cn,{trigger:"VPAID Events",children:Object(pt.jsx)("div",{className:"events",children:Object(pt.jsx)(qt,{data:r})})}),Object(pt.jsx)(cn,{trigger:"VPAID Properties",children:Object(pt.jsx)("div",{className:"properties",children:Object(pt.jsx)(qt,{data:c})})})]})})),wn=Object(y.b)((function(e){var t=e.vpaid,n=t.status,a=t.eventCounts,r=t.properties,c=e.vast;return{status:n,url:c.mediaFile.url,adParameters:c.adParameters,eventCounts:a,properties:r}}))(Tn),kn=function(e){var t=e.logOnly,n=e.vpaidEnabled,a=e.verificationEnabled;return Object(pt.jsx)("div",{className:"details",children:Object(pt.jsxs)(Mt.d,{children:[Object(pt.jsxs)(Mt.b,{children:[Object(pt.jsx)(Mt.a,{children:"Log"}),Object(pt.jsx)(Mt.a,{disabled:t,children:"VAST"}),Object(pt.jsx)(Mt.a,{disabled:t||!n,children:"VPAID"}),Object(pt.jsx)(Mt.a,{disabled:t,children:"Video"}),Object(pt.jsx)(Mt.a,{disabled:t||!a,children:"OMID"})]}),Object(pt.jsx)(Mt.c,{children:Object(pt.jsx)(nn,{})}),Object(pt.jsx)(Mt.c,{children:Object(pt.jsx)(yn,{})}),Object(pt.jsx)(Mt.c,{children:Object(pt.jsx)(wn,{})}),Object(pt.jsx)(Mt.c,{children:Object(pt.jsx)(Vn,{})}),Object(pt.jsx)(Mt.c,{children:Object(pt.jsx)(xn,{})})]})})},Dn="video-slot",Nn="slot",In="vpaid-iframe",_n='<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8">\n<style>\nhtml, body {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  overflow: hidden;\n  background: transparent;\n}\n#slot {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>\n</head>\n<body>\n<div id="'.concat(Nn,'"></div>\n</body>\n</html>'),Cn=Symbol("loadedSrc"),Pn=function(e,t){var n=e.shared,a=e.videoMuted;return function(e){null!=e&&(e.defaultMuted=a,n||e[Cn]===e.src||"function"!==typeof e.load||(e.load(),e[Cn]=e.src),t(e))}},Ln=function(e){if(null!=e){var t=e.contentWindow.document;t.open(),t.write(_n),t.close()}},Rn=Object(y.b)((function(e){var t=e.video,n=t.shared,a=t.src,r=t.muted,c=t.paused,i=e.ad;return{shared:n,videoSrc:a,videoPaused:c,videoMuted:r,adActive:i.active,adPaused:i.paused,adMuted:i.muted,adFullscreen:i.fullscreen}}),(function(e){return{onVideoElementRef:function(){e(D(de))},onVpaidIframeLoaded:function(){e(D(Ve))},onSetAdPaused:function(t){e(D(C,{paused:t}))},onSetAdMuted:function(t){e(D(_,{muted:t}))},onSetAdFullscreen:function(t){e(D(P,{fullscreen:t}))},onSkipAd:function(){e(D(L))}}}))((function(e){var t=e.shared,n=e.videoSrc,a=e.videoMuted,r=e.adActive,c=e.adPaused,i=e.adMuted,o=e.adFullscreen,u=e.onVideoElementRef,l=e.onVpaidIframeLoaded,s=e.onSetAdPaused,d=e.onSetAdMuted,j=e.onSetAdFullscreen,p=e.onSkipAd;return Object(pt.jsxs)("div",{className:"video-player",children:[Object(pt.jsx)("div",{className:"video-player-main",children:Object(pt.jsxs)("div",{className:"video-player-inner",children:[Object(pt.jsx)("video",{id:Dn,src:n,muted:a,playsInline:!0,ref:Pn({shared:t,videoMuted:a},u)}),t?Object(pt.jsx)("iframe",{id:In,src:"about:blank",className:"vpaid-host",title:"VPAID Host",ref:Ln,onLoad:l}):null]})}),Object(pt.jsx)("div",{className:"video-player-controls",children:Object(pt.jsxs)("nav",{children:[Object(pt.jsx)("ul",{className:"ad-controls",children:Object(pt.jsx)("li",{children:Object(pt.jsx)("button",{title:"Skip Ad",onClick:r?p:null,className:r?"":"disabled",children:Object(pt.jsx)(lt.a,{name:"close"})})})}),Object(pt.jsxs)("ul",{className:"playback-controls",children:[Object(pt.jsx)("li",{children:Object(pt.jsx)("button",{title:c?"Resume Ad":"Pause Ad",onClick:r?function(){return s(!c)}:null,className:r?"":"disabled",children:Object(pt.jsx)(lt.a,{name:c?"play":"pause"})})}),Object(pt.jsx)("li",{children:Object(pt.jsx)("button",{title:i?"Unmute Audio":"Mute Audio",onClick:r?function(){return d(!i)}:null,className:r?"":"disabled",children:Object(pt.jsx)(lt.a,{name:i?"volume-off":"volume-up"})})}),Object(pt.jsx)("li",{children:Object(pt.jsx)("button",{title:o?"Exit Fullscreen":"Enter Fullscreen",onClick:r?function(){return j(!o)}:null,className:r?"":"disabled",children:Object(pt.jsx)(lt.a,{name:o?"compress":"expand"})})})]})]})})]})})),Fn=Object(y.b)((function(e){var t=e.config,n=e.vast,a=n.chain,r=n.mediaFile,c=n.verifications;return{config:t,vastLoaded:null!=a,mediaFileIsVpaid:null!=r&&"VPAID"===r.apiFramework,hasVerificationScripts:null!=c&&c.length>0}}))((function(e){var t=e.config,n=e.vastLoaded,a=e.mediaFileIsVpaid,r=e.hasVerificationScripts;return null==t?null:Object(pt.jsxs)("main",{className:"runner",children:[Object(pt.jsx)(ht,{}),Object(pt.jsxs)("div",{className:"contents",children:[Object(pt.jsx)(Rn,{}),Object(pt.jsx)(kn,{logOnly:!n,vpaidEnabled:a,verificationEnabled:r})]}),Object(pt.jsx)("div",{className:"actions",children:Object(pt.jsx)("nav",{children:Object(pt.jsx)("ul",{children:Object(pt.jsx)("li",{children:Object(pt.jsxs)(E.b,{to:{pathname:"/",search:ct(t)},children:[Object(pt.jsx)(lt.a,{name:"arrow-left"})," New Test"]})})})})})]})})),Mn=n(256),Un=n(257),Bn=n.n(Un),Hn=Object(S.f)((function(e){var t=e.history,n=e.children;return Object(pt.jsxs)("div",{className:"modal",children:[n,Object(pt.jsx)("nav",{children:Object(pt.jsx)("ul",{children:Object(pt.jsx)("li",{children:Object(pt.jsxs)("button",{onClick:function(){t.length>1?t.goBack():t.push("/")},children:[Object(pt.jsx)(lt.a,{name:"close"})," Close"]})})})})]})})),Qn=[],Wn=function(e){return function(e){return function(t){return t.type===J&&(Qn.length=0),Qn.push(Object(He.a)(Object(He.a)({},t),{},{_ts:Date.now()})),e(t)}}},$n=function(){var e=window.location,t=e.protocol,n=e.host,a=e.pathname;return"".concat(t,"//").concat(n).concat(a)},Gn=function(){var e=new Blob([Jt({version:qe,history:Qn})],{type:"application/json"});Object(Mn.saveAs)(e,"vast-tester-"+Object(Ut.a)(new Date,"yyyy-MM-dd-HH-mm-ss")+".json")},zn=Object(y.b)((function(e){var t=e.config;return{url:$n()+(null!=t?"#/run?"+ct(t):"")}}))((function(e){var t=e.url;return Object(pt.jsx)(Hn,{children:Object(pt.jsxs)("div",{className:"share",children:[Object(pt.jsx)("div",{children:"Link to this page:"}),Object(pt.jsx)("div",{children:Object(pt.jsx)("textarea",{readOnly:!0,value:t})}),Object(pt.jsx)("div",{children:Object(pt.jsx)(Bn.a,{text:t,children:Object(pt.jsx)("button",{children:"Copy to Clipboard"})})}),Object(pt.jsx)("div",{className:"spacer"}),Object(pt.jsx)("div",{children:"Grab a log file for debugging:"}),Object(pt.jsx)("div",{children:Object(pt.jsx)("button",{onClick:Gn,children:"Download Log"})})]})})})),Jn=function(){return Object(pt.jsx)(Hn,{children:Object(pt.jsxs)("div",{className:"about",children:[Object(pt.jsxs)("div",{className:"title",children:["IAB Tech Lab"," ",Ye]}),Object(pt.jsxs)("div",{children:["Version ",qe," "," (".concat(Ke," branch)")]}),Object(pt.jsxs)("div",{children:["Built ",Xe]}),Object(pt.jsx)("div",{className:"spacer"}),Object(pt.jsx)("div",{children:"Contributed with"}),Object(pt.jsx)("div",{className:"heart",children:Object(pt.jsx)("div",{className:"heart-inner"})}),Object(pt.jsxs)("div",{children:["by the"," ",Object(pt.jsx)("a",{href:"https://www.doubleverify.com/",target:"_blank",rel:"noopener noreferrer",children:"DoubleVerify"})," ","team"]})]})})},Yn=function(){return Object(pt.jsx)(E.a,{children:Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)(Fn,{}),Object(pt.jsxs)(S.c,{children:[Object(pt.jsx)(S.a,{exact:!0,path:"/",component:Ft}),Object(pt.jsx)(S.a,{exact:!0,path:"/run",component:ot}),Object(pt.jsx)(S.a,{exact:!0,path:"/share",component:zn}),Object(pt.jsx)(S.a,{exact:!0,path:"/about",component:Jn})]})]})})},qn=n(561),Kn=n(577),Xn=n(563),Zn=n(89),ea=n(178),ta=n(80),na=n(258),aa=n(562),ra=n(578),ca=n(564),ia=n(565),oa=function(e,t){return function(n){return n.pipe(Object(qn.a)(ae),Object(ea.a)((function(t){var n=t.payload.type;return e.indexOf(n)>=0})),Object(na.a)(function(e){return D(R,{active:e})}(t)))}},ua=Object(x.a)((function(e){return e.pipe(Object(qn.a)(G),Object(Zn.a)((function(e){return e.payload})),Object(ea.a)(Boolean),Object(ta.a)((function(t){return Object(Kn.a)(e.pipe(Object(qn.a)(ae),Object(ea.a)((function(e){return"loaded"===e.payload.type}))),e.pipe(Object(qn.a)(ie))).pipe(Object(na.a)(t),Object(aa.a)(e.pipe(Object(qn.a)(Y))))})),Object(Zn.a)((function(e){return t=e.startDelayed,D(N,{delayed:t});var t})))}),(function(e){return e.pipe(Object(qn.a)(N),Object(ta.a)((function(t){var n=t.payload,a=Object(Xn.a)(n);return n.delayed&&(a=a.pipe(Object(ra.a)(tt),Object(aa.a)(e.pipe(Object(qn.a)(Y))))),a})),Object(Zn.a)((function(e){return t=e.delayed,D(I,{delayed:t});var t})))}),(function(e){return e.pipe(Object(qn.a)(G),Object(Zn.a)((function(e){return e.payload})),Object(ea.a)(Boolean),Object(ta.a)((function(t){return Object(Kn.a)(e.pipe(Object(qn.a)(M)),e.pipe(Object(qn.a)(R),Object(ea.a)((function(e){return e.payload.active})))).pipe(Object(Zn.a)((function(e){return Object(Qe.a)(e,1)[0].payload.muted})),Object(ca.a)(),Object(ia.a)(1),Object(Zn.a)((function(e){return ce(e?"mute":"unmute")})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))})))}),oa(["start"],!0),oa(["complete","skip","error"],!1)),la=function(e){return e.pipe(Object(qn.a)(G),Object(ta.a)((function(e){var t,n=e.payload,a=[D(Y)];return null!=n&&a.push((t=n.omAccessMode,D(J,{omAccessMode:t}))),Xn.a.apply(void 0,a)})))},sa=function(e){return e.pipe(Object(qn.a)(J),Object(na.a)(D(X)))},da=n(567),ja=function(e,t){try{switch(e){case"impression":return t.vast.inLine.impressions.map((function(e){return e.uri}));case"error":return t.vast.inLine.errors.map((function(e){return e.uri}));case"clickThrough":return t.vast.linear.videoClicks.clickTrackings.map((function(e){return e.uri}));default:return t.vast.trackingEvents[e].map((function(e){return e.uri}))}}catch(n){return null}},pa=Object(x.a)((function(e,t){return e.pipe(Object(qn.a)(ae),Object(da.a)(t),Object(Zn.a)((function(e){var t=Object(Qe.a)(e,2),n=t[0].payload.type,a=t[1];return[n,ja(n,a)]})),Object(ea.a)((function(e){var t=Object(Qe.a)(e,2)[1];return null!=t&&t.length>0})),Object(ta.a)((function(e){var t=Object(Qe.a)(e,2),n=t[0],a=t[1];return Xn.a.apply(void 0,Object(f.a)(a.map((function(e){return[n,e]}))))})),Object(Zn.a)((function(e){var t=Object(Qe.a)(e,2);return function(e,t){return D(q,{type:e,uri:t})}(t[0],t[1])})))})),ba=n(265),Oa=n(575),fa=n(579),va=n(32),ma=n(559),ha=n(568),ya=n(262),ga=function(e){var t=Object(ya.serializeError)(e);return null==t?"(unknown error)":"string"===typeof t?t:"object"===typeof t&&null!=t.message?t.message:Jt(t)},xa=function e(t,n){if(null!=t)if(Array.isArray(t)){var a,r=Object(Tt.a)(t);try{for(r.s();!(a=r.n()).done;){e(a.value,n)}}catch(o){r.e(o)}finally{r.f()}}else if("object"===typeof t){delete t[n];for(var c=0,i=Object.values(t);c<i.length;c++){e(i[c],n)}}},Aa=null,Ea=null,Sa=null,Va={get vpaidIframe(){return Aa},set vpaidIframe(e){Aa=e},get videoElement(){return Ea},set videoElement(e){Ea=e},get slotElement(){return Sa},set slotElement(e){Sa=e}},Ta=function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return e.nodeName===t}))},wa=function(e,t){return Ta(e,t)[0]},ka=function(e,t){var n=(t=t.slice()).pop(),a=function(e,t){return t.reduce(wa,e)}(e,t);return Ta(a,n)},Da=new fa.a,Na=function(e,t){Da.next(function(e,t){return D(K,{message:e,url:t})}(e,t))},Ia=function(e,t){return function(n){n.version>="4.0"&&t("Support for VAST 4 is incomplete",n.uri),null!=n.adPod&&t("Ad pods not supported yet",n.uri);var a=n.ads.toArray().filter((function(t){return t.$type===e}));if(0===a.length)throw new Error("VAST does not contain ad buffet");return a.length>1&&t("Multiple ".concat(e," elements in VAST, using first"),n.uri),a[0]}},_a=function(e){var t=e.javaScriptResources[0];return null!=t?{apiFramework:e.apiFramework,vendor:e.vendor,verificationParameters:e.parameters,uri:t.uri}:null},Ca=function(e){var t,n=Ta(e,"JavaScriptResource").find((function(e){return"omid"===e.getAttribute("apiFramework")}));if(null!=n){var a=wa(e,"VerificationParameters");return{apiFramework:n.getAttribute("apiFramework"),vendor:e.getAttribute("vendor"),verificationParameters:null!=a?a.textContent:null,uri:(t=n,t.textContent.trim())}}return null},Pa=function(e){var t=zt(e);return xa(t,"xmlElement"),t},La=function(e,t){return function(e,t){return Object(va.a)(new ba.a(e,{noSingleAdPods:!0}).load()).pipe(Object(Zn.a)((function(e){var n=e.slice(0,e.length-1).map(Ia("Wrapper",t)),a=e[e.length-1];return{chain:e,wrappers:n,inLine:Ia("InLine",t)(a)}})))}(e,t).pipe(Object(Zn.a)((function(e){var n,a=e.chain,r=e.wrappers,c=e.inLine,i=function(e,t){var n=e.creatives.toArray().filter((function(e){return null!=e.linear}));return n.length>1&&t("Multiple Linear elements in InLine, using first",e.uri),n[0].linear}(c,t),o=function(e){return null==e.trackingEvents?{}:e.trackingEvents.types.reduce((function(t,n){return Object(He.a)(Object(He.a)({},t),{},Object(Be.a)({},n,e.trackingEvents.get(n)))}),{})}(i),u=(n=[].concat(Object(f.a)(r),[c]),Object(Oa.a)(n.map((function(e){var t=e.verifications.map(_a).filter(Boolean),n=Object(Oa.a)(e.extensions.filter((function(e){return"AdVerifications"===e.type})).map((function(e){return ka(e.xmlElement,["AdVerifications","Verification"]).map(Ca).filter(Boolean)})));return[].concat(Object(f.a)(t),Object(f.a)(n))}))));return{chain:Pa(a),inLine:Pa(c),linear:Pa(i),trackingEvents:Pa(o),verifications:u}})))},Ra=function(e,t,n){return e.filter((function(e){return"video/3gpp"!==e.type&&n.canPlayType(e.type)===t}))},Fa=function(e,t,n){for(var a=function(e){return e.slice().sort((function(e,t){return e.width-t.width||e.height-t.height}))}(e),r=0;r+1<a.length&&a[r+1].width<=t&&a[r+1].height<=n;)++r;return a[r]},Ma=function(e,t){var n=Va.videoElement,a=function(e){var t,n=[],a=[],r=Object(Tt.a)(e.mediaFiles);try{for(r.s();!(t=r.n()).done;){var c=t.value;null==c.apiFramework?a.push(c):"VPAID"===c.apiFramework&&"application/javascript"===c.type&&n.push(c)}}catch(i){r.e(i)}finally{r.f()}return[n,a]}(e),r=Object(Qe.a)(a,2),c=r[0],i=r[1];if(t&&c.length>0)return c[0];var o=n.offsetWidth,u=n.offsetHeight,l=Ra(i,"probably",n);if(l.length>0)return Fa(l,o,u);var s=Ra(i,"maybe",n);return s.length>0?Fa(s,o,u):null},Ua=Object(x.a)((function(e,t){return e.pipe(Object(qn.a)(X),Object(ta.a)((function(){var n=t.value.config.vastUrl;return Object(ma.a)(La(n,Na).pipe(Object(Zn.a)((function(e){return function(e,t,n,a,r){return D(Z,{chain:e,inLine:t,linear:n,trackingEvents:a,verifications:r})}(e.chain,e.inLine,e.linear,e.trackingEvents,e.verifications)})),Object(ha.a)((function(e){return Object(Xn.a)(function(e){return D(ee,{error:e})}(ga(e)))}))),Da).pipe(Object(aa.a)(e.pipe(Object(qn.a)(Y))))})))}),(function(e,t){return e.pipe(Object(qn.a)(Z),Object(ta.a)((function(e){var n=e.payload.linear,a=t.value.config,r=a.audioUnmuted,c=a.vpaidEnabled,i=Ma(n,c),o=[];return null!=i?o.push(H(!r),Ee(!r),re(i.uri,i.apiFramework,n.adParameters)):o.push(D(te),re(null,null,null)),Xn.a.apply(void 0,o)})))})),Ba=n(72),Ha=n.n(Ba),Qa=n(111),Wa=n(569),$a=n(570),Ga=n(259),za=["firstQuartile","midpoint","thirdQuartile","complete"],Ja=function(){null!=c&&(c.parentNode.removeChild(c),u=null,o=null,i=null,c=null,r=null)},Ya=function(e,t){return e.map((function(e){var n=e.uri,a=e.vendor,c=e.verificationParameters;return new r.VerificationScriptResource(n,a,c,t)}))},qa=function(e,t){var n=new r.Partner("IAB Tech Lab VAST Tester","5e5362b"),a=new r.Context(n,e,null);return a.underEvaluation=!0,a.setVideoElement(Va.videoElement),a.setServiceWindow(t),a},Ka=function(e){var t=new r.AdSession(e);return t.setCreativeType("video"),t},Xa=function(){var e=Object(Qa.a)(Ha.a.mark((function e(t,n){var a;return Ha.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ja(),e.next=3,new Promise((function(e,t){var n=document.createElement("iframe");n.sandbox="allow-scripts allow-same-origin",n.style.display="none",n.srcdoc=["omweb-v1.js","omid-session-client-v1.js"].map((function(e){return'<script src="fixtures/omid/'.concat(e,'"><\/script>')})).join(""),n.addEventListener("load",(function(){e(n)})),n.addEventListener("error",(function(){t(new Error("Unknown error"))})),document.body.appendChild(n)}));case 3:c=e.sent,a=c.contentWindow,r=a.OmidSessionClient.default,i=Ka(qa(Ya(t,n),a)),o=new r.AdEvents(i),u=new r.MediaEvents(i),i.start();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Za=function(e,t){return e.pipe(Object(qn.a)(ae),Object(ea.a)((function(e){return e.payload.type===t})))},er=Object(x.a)((function(e){return e.pipe(Object(qn.a)(G),Object(Zn.a)((function(e){return e.payload})),Object(ea.a)(Boolean),Object(ta.a)((function(t){var n=t.omAccessMode;return Object(Kn.a)(e.pipe(Object(qn.a)(Z)),e.pipe(Object(qn.a)(je))).pipe(Object(Zn.a)((function(e){return Object(Qe.a)(e,1)[0].payload.verifications})),Object(ta.a)(function(){var e=Object(Qa.a)(Ha.a.mark((function e(t){var a;return Ha.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.length>0)){e.next=4;break}return e.next=4,Xa(t,n);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(aa.a)(e.pipe(Object(qn.a)(Y))))})),Object(Zn.a)((function(e){return function(e){return D(ie,{enabled:e})}(e)})))}),(function(e){return Za(e,"loaded").pipe(Object(Wa.a)((function(){if(null!=o){o.loaded(new r.VastProperties(!0,0,!0,"standalone"))}})),Object(na.a)(se("loaded")))}),(function(e){return Za(e,"impression").pipe(Object(Wa.a)((function(){null!=o&&o.impressionOccurred()})),Object(na.a)(se("impression")))}),(function(e){return e.pipe(Object(qn.a)(B),Object(Zn.a)((function(e){return e.payload})),Object(ea.a)(Boolean),Object(Wa.a)((function(e){var t=e.errorType,n=e.message;null!=i&&i.error(t,n)})),Object(Zn.a)((function(e){return function(e,t){return D(le,{errorType:e,message:t})}(e.errorType,e.message)})))}),(function(e,t){return Za(e,"start").pipe(Object(Wa.a)((function(){if(null!=u){var e=t.value,n=e.vast,a=e.vpaid,r=e.video,c="VPAID"===n.mediaFile.apiFramework?[a.properties.adDuration,a.properties.adVolume]:[r.properties.duration,r.properties.volume],i=Object(Qe.a)(c,2),o=i[0],l=i[1];u.start(o,l)}})),Object(na.a)(se("start")))}),(function(e){return e.pipe(Object(qn.a)(ae),Object(Zn.a)((function(e){return e.payload.type})),Object(ea.a)((function(e){return za.includes(e)})),Object(Wa.a)((function(e){null!=u&&u[e]()})),Object(Zn.a)((function(e){return se(e)})))}),(function(e){return e.pipe(Object(qn.a)(ie),Object(ea.a)((function(e){return e.payload.enabled})),Object($a.a)(Za(e,"complete").pipe(Object(ra.a)(1e3),Object(Wa.a)((function(){i.finish()})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))),Object(na.a)(D(oe)))}),(function(e){return e.pipe(Object(qn.a)(Y),Object(Wa.a)((function(){Ja()})),Object(Ga.a)())})),tr=n(20),nr=n(142),ar=n(267),rr=n(179),cr=n(571),ir=["firstQuartile","midpoint","thirdQuartile","complete"],or=["loaded","start","impression","creativeView"].concat(ir,["mute","unmute","pause","resume","skip","clickThrough","error"]),ur=["loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","play","pause","ratechange","resize","volumechange"],lr=["error","src","srcObject","currentSrc","crossOrigin","networkState","preload","buffered","readyState","seeking","currentTime","duration","paused","defaultPlaybackRate","playbackRate","played","seekable","ended","autoplay","loop","controls","volume","muted","defaultMuted","audioTracks","videoTracks","textTracks","width","height","videoWidth","videoHeight","poster"],sr=function(e,t,n){return Math.max(t,Math.min(n,e))},dr=function(e){return null!=e&&"function"===typeof e.then},jr=function(e){return wt(lr,(function(t){return zt(e[t])}))},pr=function(e){return null==e.payload.apiFramework},br=function(e){return e.pipe(Object(qn.a)(ne),Object(ea.a)(pr))},Or=function(e,t){return e.pipe(Object(qn.a)(ge),Object(ea.a)((function(e){return e.payload.type===t})))},fr=function(e){return Object(ea.a)((function(){return!e.value.video.properties.ended}))},vr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r,c){var i;return br(r).pipe(Object($a.a)((i=Or(r,e)).pipe.apply(i,Object(f.a)(n?[Object(rr.a)(1)]:[]).concat(Object(f.a)(a?[fr(c)]:[]),[Object(aa.a)(r.pipe(Object(qn.a)(Y)))]))),Object(na.a)(ce(t)))}},mr=function(e,t){return function(n){return br(n).pipe(Object($a.a)(Or(n,e).pipe(Object(aa.a)(n.pipe(Object(qn.a)(Y))))),Object(na.a)(t()))}},hr=Object(x.a)((function(e){return e.pipe(Object(qn.a)(de),Object(Zn.a)((function(){return document.getElementById(Dn)||null})),Object(ea.a)((function(e){return e!==Va.videoElement})),Object(Wa.a)((function(e){Va.videoElement=e})),Object(Zn.a)((function(e){return D(null!=e?je:"SET_VIDEO_ELEMENT")})))}),(function(e){return e.pipe(Object(qn.a)(je),Object($a.a)(new tr.a((function(e){var t=Va.videoElement,n=t.ownerDocument;e.next(Se(jr(t)));var a,r=function(n){var a=n.type;e.next(Se(jr(t))),e.next(function(e){return D(ge,{type:e})}(a))},c=function(){var t=null!=n.fullscreenElement;e.next(D(U,{fullscreen:t}))},i=Object(Tt.a)(ur);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.addEventListener(o,r)}}catch(u){i.e(u)}finally{i.f()}return n.addEventListener("fullscreenchange",c),function(){var e,a=Object(Tt.a)(ur);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.removeEventListener(i,r)}}catch(u){a.e(u)}finally{a.f()}n.removeEventListener("fullscreenchange",c)}})).pipe(Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return br(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(I),Object(aa.a)(e.pipe(Object(qn.a)(Y))))),Object(na.a)(Ae(!1)))}),(function(e){return br(e).pipe(Object(Zn.a)((function(e){var t=e.payload.url;return xe(t)})))}),(function(e,t){return Object(Kn.a)(br(e),e.pipe(Object(qn.a)(je))).pipe(Object(ta.a)((function(){var e=t.value.video.paused;return e!==Va.videoElement.paused?Object(Xn.a)(Ae(e)):nr.a})))}),(function(e){return e.pipe(Object(qn.a)(be),Object(ta.a)((function(e){var t=e.payload.paused,n=Va.videoElement;if(t)return n.pause(),nr.a;var a=n.play();return dr(a)?Object(ar.a)(Object(Xn.a)(D(ve)),Object(va.a)(a).pipe(Object(na.a)(D(he)),Object(ha.a)((function(e){return Object(Xn.a)(function(e){return D(ye,{error:e})}(ga(e)))})))):Object(Xn.a)(D(me))})))}),vr("loadeddata","impression",!0),vr("canplay","loaded",!0),vr("playing","start",!0),(function(e){return br(e).pipe(Object($a.a)(Or(e,"playing").pipe(Object(ia.a)(1),Object(aa.a)(e.pipe(Object(qn.a)(Y))))),Object(na.a)(ce("resume")))}),vr("pause","pause",!1,!0),(function(e,t){return br(e).pipe(Object($a.a)(Or(e,"timeupdate").pipe(Object(Zn.a)((function(){var e=t.value.video.properties,n=e.played,a=e.duration;return a>0?sr(Math.floor(4*(n.data.reduce((function(e,t){var n=t.start;return e+t.end-n}),0)/a)),0,4):0})),Object(ea.a)((function(e){return e>0})),Object(cr.a)(),Object(aa.a)(e.pipe(Object(qn.a)(Y))))),Object(Zn.a)((function(e){return ce(ir[e-1])})))}),mr("volumechange",W),mr("stalled",(function(){return D("AD_BUFFER_START")})),(function(e){return br(e).pipe(Object($a.a)(Or(e,"stalled").pipe(Object($a.a)(Or(e,"canplay")),Object(rr.a)(1),Object(aa.a)(e.pipe(Object(qn.a)(Y))))),Object(na.a)(D("AD_BUFFER_FINISH")))}),vr("error","error",!0),(function(e){return br(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(fe),Object(ta.a)((function(e){var t=e.payload.properties,n=t.paused,a=t.readyState,r=t.muted,c=t.volume;return[Q(n||a<3),H(r||0===c)]})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return br(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(C),Object(Zn.a)((function(e){var t=e.payload.paused;return Ae(t)})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return br(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(_),Object(Zn.a)((function(e){var t=e.payload.muted;return Ee(t)})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return br(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(P),Object(ta.a)((function(e){var t,n,a,r=e.payload.fullscreen,c=Va.videoElement;if(r)t=c,n="requestFullscreen";else{var i=[c.ownerDocument,"exitFullscreen"];t=i[0],n=i[1]}if("function"!==typeof t[n])return Object(Xn.a)((a="Fullscreen API not supported: ".concat(n,"() not available"),D("VIDEO_WARNING",{message:a})));var o=t[n]();return Object(Xn.a)(o).pipe(Object(Ga.a)())})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return br(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(L),Object($a.a)(Object(Xn.a)(xe(null),ce("skip"))),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return br(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(ae),Object(ea.a)((function(e){return"complete"===e.payload.type})),Object(na.a)($()),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return br(e).pipe(Object($a.a)(Object(Kn.a)(Or(e,"error"),e.pipe(Object(qn.a)(fe))).pipe(Object(rr.a)(1),Object(Zn.a)((function(e){var t=Object(Qe.a)(e,2)[1].payload.properties.error;return null!=t?t.message:null})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))),Object(Zn.a)((function(e){return $("video",null!=e?e:"Unknown error")})))})),yr=n(264),gr=n(572),xr=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],Ar=["adWidth","adHeight","adLinear","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"],Er={AdLoaded:"loaded",AdSkipped:"skip",AdStarted:"creativeView",AdImpression:"impression",AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume",AdClickThru:"clickThrough",AdError:"error"},Sr=function(){var e=Object(Qa.a)(Ha.a.mark((function e(t,n,a){return Ha.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var c=a.createElement("script");a.getElementsByTagName("head")[0].appendChild(c),c.addEventListener("load",(function(){e(c)})),c.addEventListener("error",(function(){return r(new Error("Failed to load script: ".concat(t)))})),c.crossOrigin=n,c.src=t})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Vr="INVOKE",Tr="RETURN_VALUE",wr="EVENT",kr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:Vr,payload:{name:e,args:t,allowError:n}}},Dr=function(e,t){return{type:wr,payload:{name:e,data:t}}},Nr=function(e){var t=new fa.a,n=new fa.a;t.subscribe((function(t){var a=t.type,r=t.payload;if(a===Vr){var c=r.name,i=r.args,o=r.allowError,u=null,l=null;try{l=function(e,t,n){var a=e[t];if("function"!==typeof a)throw new Error("VPAID ".concat(t," is not a function"));return a.apply(e,n)}(e,c,i)}catch(s){(u=new Error("Error calling VPAID ".concat(c,"()"))).cause=s}null!=u?o?console.warn(u+(null!=u.cause?": ".concat(u.cause):"")):n.error(u):n.next(function(e,t,n){return{type:Tr,payload:{name:e,args:t,value:n}}}(c,i,l))}}));var a,r=Object(Tt.a)(xr);try{var c=function(){var e=a.value;t.next(kr("subscribe",[function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n.next(Dr(e,a))},e]))};for(r.s();!(a=r.n()).done;)c()}catch(i){r.e(i)}finally{r.f()}return{in$:t,out$:n}},Ir=["AdStarted","AdVideoStart","AdPlaying"],_r=["AdPaused","AdError","AdStopped"],Cr=function(e){return"VPAID"===e.payload.apiFramework},Pr=function(e){return e.pipe(Object(qn.a)(ne),Object(ea.a)(Cr))},Lr=function(e,t,n,a,r,c){return new tr.a((function(i){var o,u,l=function(e){return i.next(e)};try{u=e.getVPAIDAd()}catch(g){return void i.error(new Error("Failed to get VPAID ad: ".concat(g)))}l(D("VPAID_AD_OBTAINED"));var s,d=Nr(u),j=d.in$,p=d.out$,b=!1,O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n||l(Ue(e,zt(t))),j.next(kr(e,t,n))},f=Object(aa.a)(c.pipe(Object(qn.a)(Y))),v=new fa.a;v.pipe(f).subscribe((function(){(r||b)&&(!function(){s={};var e,t=Object(Tt.a)(Ar);try{for(t.s();!(e=t.n()).done;){var n=e.value,a="get"+Object(st.a)(n);O(a,[],!0)}}catch(r){t.e(r)}finally{t.f()}}(),l(function(e){return D(Ce,{properties:e})}(s)))})),c.pipe(Object(qn.a)(Ie),f).subscribe((function(){O("startAd")})),c.pipe(Object(qn.a)(Pe),f).subscribe((function(e){var t=e.payload,n=t.name,a=t.args;O(n,a)})),Object(gr.a)(250).pipe(f,Object(aa.a)(c.pipe(Object(qn.a)(_e),Object(ea.a)((function(e){var t=e.payload.name;return"AdStopped"===t||"AdError"===t}))))).subscribe((function(){v.next()}));var m={handshakeVersion:function(e,r){"2.0"!==r?i.error(new Error("Unexpected VPAID handshake response: ".concat(r))):(l(D(Ne,{response:r})),function(){var e=t.ownerDocument.defaultView,r=e.innerWidth,c=e.innerHeight;O("initAd",[r,c,"normal",-1,{AdParameters:a},{slot:t,videoSlot:n}])}())}},h={AdLoaded:function(){b=!0},AdStopped:function(){l($())},AdError:function(e){var t=ga(e);l($("generic",t)),i.error(new Error("AdError: ".concat(t)))}},y=(o={},Object(Be.a)(o,Tr,(function(e){var t=e.name,n=e.args,a=e.value;if(t.startsWith("get")){var r=Object(yr.a)(t.substr(3));s[r]=a}null!=m[t]&&m[t](n,a)})),Object(Be.a)(o,wr,(function(e){var t=e.name,n=e.data;v.next(),l(function(e,t){return D(_e,{name:e,data:t})}(t,n));var a=Er[t];null!=a&&l(ce(a)),"AdVolumeChange"===t&&l(W()),null!=h[t]&&h[t](n)})),o);p.subscribe({next:function(e){var t=e.type,n=e.payload;null!=y[t]&&y[t](n)},error:function(e){i.error(e)},complete:function(){i.complete()}}),O("handshakeVersion",["2.0"])}))},Rr=function(e){return isFinite(e)&&e>0},Fr=[la,sa,ua,Ua,pa,er,hr,Object(x.a)((function(e){return e.pipe(Object(qn.a)(Ve),Object(Zn.a)((function(){return document.getElementById(In)})),Object(ea.a)((function(e){return e!==Va.vpaidIframe})),Object(Wa.a)((function(e){if(Va.vpaidIframe=e,null!=e){var t=e.contentWindow.document;Va.slotElement=t.getElementById(Nn)}else Va.slotElement=null})),Object(Zn.a)((function(e){return D(null!=e?Te:"UNSET_VPAID_DOM")})))}),(function(e){return Pr(e).pipe(Object(ta.a)((function(t){var n=t.payload.url;return e.pipe(Object(qn.a)(Te),Object($a.a)(new tr.a((function(e){var t=function(t){return e.next(t)},a=Va.vpaidIframe.contentWindow.document;t(function(e){return D(De,{url:e})}(n)),Sr(n,null,a).then((function(){t(D(Re))}),(function(e){t(function(e){return D(Fe,{error:e})}(ga(e)))}))}))),Object(aa.a)(e.pipe(Object(qn.a)(Y))))})))}),(function(e,t){return e.pipe(Object(qn.a)(Re),Object(ta.a)((function(){var n=Va.vpaidIframe,a=Va.slotElement,r=Va.videoElement,c=t.value,i=c.vast.adParameters,o=c.config.vpaidPropertiesAllowedBeforeAdLoaded;return Lr(n.contentWindow,a,r,i,o,e).pipe(Object(aa.a)(e.pipe(Object(qn.a)(Y))),Object(ha.a)((function(e){return Object(Xn.a)((t=ga(e),n=null!=e.cause?e.cause.stack:null,D(ke,{message:t,cause:n})));var t,n})))})))}),(function(e){return Pr(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(I),Object(aa.a)(e.pipe(Object(qn.a)(Y))))),Object(na.a)(D(Ie)))}),(function(e){return e.pipe(Object(qn.a)(G),Object(ea.a)((function(e){var t=e.payload;return null!=t&&!t.audioUnmuted})),Object($a.a)(e.pipe(Object(qn.a)(_e),Object(ea.a)((function(e){var t=e.payload.name;return Ir.indexOf(t)>=0})),Object(rr.a)(1),Object(na.a)(Me("setAdVolume",[0])),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return Pr(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(_e),Object(Zn.a)((function(e){var t=e.payload.name;return!(Ir.indexOf(t)>=0)&&(_r.indexOf(t)>=0||null)})),Object(ea.a)((function(e){return"boolean"===typeof e})),Object(Zn.a)((function(e){return Q(e)})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return Pr(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(Ce),Object(Zn.a)((function(e){var t=e.payload.properties.adVolume;return H(0===t)})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return Pr(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(C),Object(Zn.a)((function(e){var t=e.payload.paused;return Me(t?"pauseAd":"resumeAd")})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return Pr(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(_),Object(Zn.a)((function(e){var t=e.payload.muted;return Me("setAdVolume",[t?0:1])})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e,t){return Pr(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(P),Object(Zn.a)((function(e){var n=e.payload.fullscreen,a=t.value.vpaid.properties,r=a.adWidth,c=a.adHeight,i=Rr(r)&&Rr(c)?[r,c]:[Va.videoSlot.width,Va.videoSlot.height],o=Object(Qe.a)(i,2),u=o[0],l=o[1];return Me("resizeAd",[u,l,n?"fullscreen":"normal"])})),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}),(function(e){return Pr(e).pipe(Object($a.a)(e.pipe(Object(qn.a)(L),Object(na.a)(Me("skipAd")),Object(aa.a)(e.pipe(Object(qn.a)(Y))))))}))],Mr=[Wn],Ur=n(574),Br=function(){return{active:!1,muted:!1,fullscreen:!1,paused:!0}},Hr=Object(Ur.a)((l={},Object(Be.a)(l,J,Br),Object(Be.a)(l,R,(function(e,t){var n=t.payload.active;return Object(He.a)(Object(He.a)({},e),{},{active:n})})),Object(Be.a)(l,M,(function(e,t){var n=t.payload.muted;return Object(He.a)(Object(He.a)({},e),{},{muted:n})})),Object(Be.a)(l,U,(function(e,t){var n=t.payload.fullscreen;return Object(He.a)(Object(He.a)({},e),{},{fullscreen:n})})),Object(Be.a)(l,F,(function(e,t){var n=t.payload.paused;return Object(He.a)(Object(He.a)({},e),{},{paused:n})})),l),{active:!1,muted:!1,fullscreen:!1,paused:!0}),Qr=Object(Ur.a)(Object(Be.a)({},G,(function(e,t){return t.payload})),null),Wr=function(e){return null==e||(Array.isArray(e)?0===e.length:0===Object.keys(e).length)},$r=["loadedmetadata","loadeddata","canplay","canplaythrough","waiting","play","playing","pause","ended","volumechange","error"],Gr="info",zr="warn",Jr="error",Yr="VAST",qr="VPAID",Kr="video",Xr="OMID",Zr=(s={},Object(Be.a)(s,K,(function(e){var t=e.message,n=e.url;return{category:Yr,text:"Tag ".concat(n," warning: ").concat(t),level:zr}})),Object(Be.a)(s,X,{category:Yr,text:"Loading tag"}),Object(Be.a)(s,Z,{category:Yr,text:"Tag loaded"}),Object(Be.a)(s,ee,(function(e){var t=e.error;return{category:Yr,text:"Failed to load tag: ".concat(t),level:Jr}})),Object(Be.a)(s,te,{category:Yr,text:"No supported media files found"}),Object(Be.a)(s,ae,(function(e){var t=e.type;return{category:Yr,text:"Event: ".concat(t)}})),Object(Be.a)(s,q,(function(e){var t=e.type,n=e.uri;return{category:Yr,text:"Firing ".concat(t," tracker: ").concat(n)}})),Object(Be.a)(s,ne,(function(e){var t=e.url;return{category:null!=e.apiFramework?qr:Kr,text:null==t?"Unloading media":"Loading: ".concat(t)}})),Object(Be.a)(s,N,(function(e){var t=e.delayed;return{category:Yr,text:t?"Simulating preloading for ".concat(kt(tt)):"Starting ad"}})),Object(Be.a)(s,I,(function(e){var t=e.delayed;return t?{category:Yr,text:"Starting ad"+(t?" after simulated preloading":"")}:null})),Object(Be.a)(s,L,{category:Yr,text:"Ad skip requested"}),Object(Be.a)(s,ge,(function(e){var t=e.type;return $r.includes(t)?{category:Kr,text:"Event: ".concat(t)}:null})),Object(Be.a)(s,be,(function(e){var t=e.paused;return{category:Kr,text:t?"Pausing":"Playing"}})),Object(Be.a)(s,Oe,(function(e){var t=e.muted;return{category:Kr,text:t?"Muting":"Unmuting"}})),Object(Be.a)(s,me,{category:Kr,text:"Call to play() did not return promise"}),Object(Be.a)(s,ve,{category:Kr,text:"Call to play() returned promise"}),Object(Be.a)(s,he,{category:Kr,text:"Promise from play() call fulfilled"}),Object(Be.a)(s,ye,(function(e){var t=e.error;return{category:Kr,text:"Promise from play() call rejected: ".concat(t)}})),Object(Be.a)(s,De,(function(e){var t=e.url;return{category:qr,text:"Loading script: ".concat(t)}})),Object(Be.a)(s,Re,{category:qr,text:"Script loaded"}),Object(Be.a)(s,Fe,(function(e){var t=e.error;return{category:qr,text:"Failed to load script: ".concat(t),level:Jr}})),Object(Be.a)(s,Ne,(function(e){var t=e.response;return{category:qr,text:"Handshake successful: got version ".concat(t)}})),Object(Be.a)(s,Le,(function(e){var t=e.name,n=e.args;return t.startsWith("get")?null:{category:qr,text:"Calling function ".concat(t),metadata:Wr(n)?null:{Args:n}}})),Object(Be.a)(s,_e,(function(e){var t=e.name,n=e.data;return"AdRemainingTimeChange"===t?null:{category:qr,text:"Event: ".concat(t),metadata:Wr(n)?null:{Data:n}}})),Object(Be.a)(s,we,(function(e){var t=e.message;return{category:qr,text:t,level:zr}})),Object(Be.a)(s,ke,(function(e){var t=e.message,n=e.cause;return{category:qr,text:t,level:Jr,metadata:null==n?null:{Cause:n}}})),Object(Be.a)(s,ie,(function(e){return e.enabled?{category:Xr,text:"Session started"}:null})),Object(Be.a)(s,oe,{category:Xr,text:"Session finished"}),Object(Be.a)(s,ue,(function(e){var t=e.type;return{category:Xr,text:"Event: ".concat(t)}})),Object(Be.a)(s,le,(function(e){var t=e.errorType,n=e.message;return{category:Xr,text:"".concat(n," (type: ").concat(t,")"),level:Jr}})),s),ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{consoleEnabled:!1,events:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if(n===J)return Object(He.a)(Object(He.a)({},e),{},{events:[]});if(n===G)return null==a?e:Object(He.a)(Object(He.a)({},e),{},{consoleEnabled:a.consoleEnabled});if(Object.prototype.hasOwnProperty.call(Zr,n)){var r=Zr[n],c="function"===typeof r?r(a):r;if(null!=c){var i=c.category,o=c.level,u=void 0===o?Gr:o,l=c.text,s=c.metadata;return e.consoleEnabled&&"function"===typeof console[u]&&console[u]("[".concat(i,"] ").concat(l)+(null!=s?"\nData: "+JSON.stringify(s):"")),Object(He.a)(Object(He.a)({},e),{},{events:[].concat(Object(f.a)(e.events),[{timestamp:Date.now(),category:i,level:u,text:l,metadata:s}])})}}return e},tc=function(e,t){return Object(He.a)(Object(He.a)({},e),{},Object(Be.a)({},t,(e[t]||0)+1))},nc=function(){return{chain:null,inLine:null,linear:null,trackingEvents:null,mediaFile:null,verifications:null,eventCounts:wt(or,0)}},ac=Object(Ur.a)((d={},Object(Be.a)(d,J,nc),Object(Be.a)(d,Z,(function(e,t){var n=t.payload,a=n.chain,r=n.inLine,c=n.linear,i=n.trackingEvents,o=n.verifications;return Object(He.a)(Object(He.a)({},e),{},{chain:a,inLine:r,linear:c,trackingEvents:i,verifications:o})})),Object(Be.a)(d,ne,(function(e,t){var n=t.payload,a=n.url,r=n.apiFramework,c=n.adParameters;return Object(He.a)(Object(He.a)({},e),{},{mediaFile:{url:a,apiFramework:r},adParameters:c})})),Object(Be.a)(d,ae,(function(e,t){var n=t.payload.type;return Object(He.a)(Object(He.a)({},e),{},{eventCounts:tc(e.eventCounts,n)})})),d),nc()),rc=function(){return{accessMode:null,scripts:null,eventCounts:wt(Vt,0)}},cc=Object(Ur.a)((j={},Object(Be.a)(j,J,(function(e,t){var n=t.payload.omAccessMode;return Object(He.a)(Object(He.a)({},rc()),{},{accessMode:n})})),Object(Be.a)(j,Z,(function(e,t){var n=t.payload.verifications;return Object(He.a)(Object(He.a)({},e),{},{scripts:n})})),Object(Be.a)(j,ue,(function(e,t){var n=t.payload.type;return Object(He.a)(Object(He.a)({},e),{},{eventCounts:tc(e.eventCounts,n)})})),j),rc()),ic=function(){return{eventCounts:wt(ur,0),properties:wt(lr,""),shared:!1,src:null,muted:!1,paused:!0}},oc=Object(Ur.a)((p={},Object(Be.a)(p,J,ic),Object(Be.a)(p,ne,(function(e,t){var n=null!=t.payload.apiFramework;return Object(He.a)(Object(He.a)({},e),{},{shared:n})})),Object(Be.a)(p,be,(function(e,t){var n=t.payload.paused;return Object(He.a)(Object(He.a)({},e),{},{paused:n})})),Object(Be.a)(p,pe,(function(e,t){var n=t.payload.src;return Object(He.a)(Object(He.a)({},e),{},{src:n})})),Object(Be.a)(p,Oe,(function(e,t){var n=t.payload.muted;return Object(He.a)(Object(He.a)({},e),{},{muted:n})})),Object(Be.a)(p,fe,(function(e,t){var n=t.payload.properties;return Object(He.a)(Object(He.a)({},e),{},{properties:n})})),Object(Be.a)(p,ge,(function(e,t){var n=t.payload.type;return Object(He.a)(Object(He.a)({},e),{},{eventCounts:tc(e.eventCounts,n)})})),p),ic()),uc=function(){return{eventCounts:wt(xr,0),properties:wt(Ar,""),status:""}},lc={initAd:"loading",startAd:"starting",stopAd:"stopping"},sc={AdLoaded:"loaded",AdStarted:"started",AdStopped:"stopped",AdError:"error"},dc=Object(Ur.a)((b={},Object(Be.a)(b,J,uc),Object(Be.a)(b,Ce,(function(e,t){var n=t.payload.properties;return Object(He.a)(Object(He.a)({},e),{},{properties:n})})),Object(Be.a)(b,Le,(function(e,t){var n=t.payload.name;return Object(He.a)(Object(He.a)({},e),{},{status:lc[n]||e.status})})),Object(Be.a)(b,_e,(function(e,t){var n=t.payload.name;return Object(He.a)(Object(He.a)({},e),{},{status:sc[n]||e.status,eventCounts:tc(e.eventCounts,n)})})),b),uc()),jc=Object(g.combineReducers)({config:Qr,vast:ac,ad:Hr,video:oc,vpaid:dc,verification:cc,log:ec}),pc=x.a.apply(void 0,Object(f.a)(Fr)),bc=Object(A.a)(),Oc=Object(g.createStore)(jc,(O=[].concat(Object(f.a)(Mr),[bc]),g.applyMiddleware.apply(void 0,Object(f.a)(O))));bc.run(pc);var fc=Object(pt.jsx)(y.a,{store:Oc,children:Object(pt.jsx)(Yn,{})});Object(h.render)(fc,document.getElementById("root"))}},[[558,1,2]]]);
//# sourceMappingURL=main.52d73c9d.chunk.js.map